# 抢课助手打包指南

## 环境要求
- Python 3.7+
- Windows 10/11 系统

## 打包步骤

### 1. 安装依赖
```bash
# 安装PyInstaller
pip install pyinstaller

# 安装Playwright
pip install playwright

# 安装Playwright浏览器
python -m playwright install chromium
```

### 2. 执行打包命令
```bash
python -m PyInstaller --onefile --console --name=抢课助手 --hidden-import=playwright --hidden-import=playwright.sync_api --collect-all=playwright "absolute/path/to/抢课助手2.1.1.py"
```

### 3. 参数说明
- `--onefile`: 打包成单个exe文件
- `--console`: 显示控制台窗口（便于用户交互）
- `--name=抢课助手`: 指定exe文件名
- `--hidden-import=playwright`: 包含playwright模块
- `--hidden-import=playwright.sync_api`: 包含playwright同步API
- `--collect-all=playwright`: 收集所有playwright相关文件

### 4. 输出文件
打包完成后，在 `dist` 文件夹中会生成：
- `抢课助手.exe` - 主程序文件
- `使用说明.txt` - 用户使用指南

### 5. 文件大小
- 预期大小：约100-200MB（包含Playwright浏览器组件）

### 6. 注意事项
- 首次运行需要较长时间启动
- 需要联网使用
- 确保目标系统已安装Chrome浏览器
- 打包过程可能需要5-10分钟

### 7. 故障排除

#### 编码错误
如果遇到编码错误，可以尝试：
```bash
# 设置环境变量
set PYTHONIOENCODING=utf-8
```

#### 模块缺失
如果运行时提示模块缺失，添加相应的 `--hidden-import` 参数：
```bash
--hidden-import=模块名
```

#### 文件过大
如果exe文件过大，可以考虑：
- 使用 `--exclude-module` 排除不需要的模块
- 使用 `--onedir` 模式而不是 `--onefile`





## 发布包结构
```
抢课助手_v2.1.1/
├── 抢课助手.exe          # 主程序
├── config.txt            # 配置文件
├── 使用说明.md           # 详细说明
├── 快速使用指南.txt      # 快速指南
└── README.txt            # 简要说明
```

## 新功能特性 (v2.1.1)
- ✅ 配置文件支持：外置用户名密码和延时设置
- ✅ 无限重试模式：设置999实现无限重试
- ✅ 智能过滤器：排除干扰元素，精准识别选课链接
- ✅ 浏览器重启：登录失败时自动重启浏览器
- ✅ 实时状态检查：准确判断选课成功/失败
- ✅ 用户友好：详细的使用说明和错误提示

## 版本历史
- v2.1.1 (2025-09-22): 
  * 添加配置文件支持
  * 实现无限重试机制
  * 修复选课链接识别问题
  * 优化过滤器逻辑
  * 增强错误处理和用户体验
  * 支持浏览器自动重启
